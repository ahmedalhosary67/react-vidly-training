{"version":3,"sources":["component/customers.jsx","services/fakeGenreService.js","services/fakeMovieService.js","component/common/Like.jsx","component/common/tableHeader.jsx","component/common/tableBody.jsx","component/table.jsx","component/moviesTable.jsx","component/common/Pagination.jsx","component/common/listGroup.jsx","utils/paginate.js","component/common/input.jsx","component/common/searchBox.jsx","component/movies.jsx","component/navBar.jsx","component/rentals.jsx","component/notFound.jsx","component/common/select.jsx","component/common/form.jsx","component/movieForm.jsx","component/login.jsx","component/register.jsx","App.js","reportWebVitals.js","index.js"],"names":["Customers","genres","_id","name","getGenres","filter","g","movies","title","genre","numberInStock","dailyRentalRate","publishDate","saveMovie","movie","movieInDb","find","m","genresAPI","genreId","Date","now","toString","push","Like","props","classes","liked","onClick","className","style","cursor","aria-hidden","TableHeader","raiseSort","path","sortColumn","order","onSort","renderSortIcon","column","this","columns","map","lable","key","Component","TableBody","renderCell","item","content","_","get","creatKey","data","to","Table","MoviesTable","onLiked","onDelete","Movies","Pagination","pageSize","itemCount","currentPage","onChange","pagesCount","Math","ceil","pages","range","aria-label","page","ListGroup","items","onItemSelect","selectedGenre","paginate","pageNumber","startIndex","slice","take","value","Input","label","error","rest","htmlFor","id","SelectBox","type","placeholder","e","currentTarget","state","searchQuery","handleGenreSelect","setState","handleSearch","query","handleDelete","handleLike","handlePage","handleSort","handleAddMovie","getPagesData","allMovies","filtered","toLowerCase","includes","orderBy","totalCount","length","NavBar","data-toggle","data-target","aria-controls","aria-expanded","Rentals","NotFound","Select","options","Form","errors","validate","joi","schema","abortEarly","details","message","validateProperty","obj","handleSubmit","preventDefault","doSubmit","handleChange","input","errorMassege","disabled","MovieForm","string","required","number","min","max","history","console","log","movieId","match","params","replace","mapToViewModel","onSubmit","renderInput","renderSelect","renderButton","loginForm","username","password","Register","email","App","component","from","exact","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4659b509.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Customers = () => {\r\n    return ( \r\n        <h1>Customers</h1>\r\n    );\r\n}\r\n \r\nexport default Customers;","export const genres = [\n  { _id: \"5b21ca3eeb7f6fbccd471818\", name: \"Action\" },\n  { _id: \"5b21ca3eeb7f6fbccd471814\", name: \"Comedy\" },\n  { _id: \"5b21ca3eeb7f6fbccd471820\", name: \"Thriller\" }\n];\n\nexport function getGenres() {\n  return genres.filter(g => g);\n}\n","import * as genresAPI from \"./fakeGenreService\";\r\n\r\nconst movies = [\r\n  {\r\n    _id: \"5b21ca3eeb7f6fbccd471815\",\r\n    title: \"Terminator\",\r\n    genre: { _id: \"5b21ca3eeb7f6fbccd471818\", name: \"Action\" },\r\n    numberInStock: 6,\r\n    dailyRentalRate: 2.5,\r\n    publishDate: \"2018-01-03T19:04:28.809Z\",\r\n    \r\n  },\r\n  {\r\n    _id: \"5b21ca3eeb7f6fbccd471816\",\r\n    title: \"Die Hard\",\r\n    genre: { _id: \"5b21ca3eeb7f6fbccd471818\", name: \"Action\" },\r\n    numberInStock: 5,\r\n    dailyRentalRate: 2.5\r\n  },\r\n  {\r\n    _id: \"5b21ca3eeb7f6fbccd471817\",\r\n    title: \"Get Out\",\r\n    genre: { _id: \"5b21ca3eeb7f6fbccd471820\", name: \"Thriller\" },\r\n    numberInStock: 8,\r\n    dailyRentalRate: 3.5\r\n  },\r\n  {\r\n    _id: \"5b21ca3eeb7f6fbccd471819\",\r\n    title: \"Trip to Italy\",\r\n    genre: { _id: \"5b21ca3eeb7f6fbccd471814\", name: \"Comedy\" },\r\n    numberInStock: 7,\r\n    dailyRentalRate: 3.5\r\n  },\r\n  {\r\n    _id: \"5b21ca3eeb7f6fbccd47181a\",\r\n    title: \"Airplane\",\r\n    genre: { _id: \"5b21ca3eeb7f6fbccd471814\", name: \"Comedy\" },\r\n    numberInStock: 7,\r\n    dailyRentalRate: 3.5\r\n  },\r\n  {\r\n    _id: \"5b21ca3eeb7f6fbccd47181b\",\r\n    title: \"Wedding Crashers\",\r\n    genre: { _id: \"5b21ca3eeb7f6fbccd471814\", name: \"Comedy\" },\r\n    numberInStock: 7,\r\n    dailyRentalRate: 3.5\r\n  },\r\n  {\r\n    _id: \"5b21ca3eeb7f6fbccd47181e\",\r\n    title: \"Gone Girl\",\r\n    genre: { _id: \"5b21ca3eeb7f6fbccd471820\", name: \"Thriller\" },\r\n    numberInStock: 7,\r\n    dailyRentalRate: 4.5\r\n  },\r\n  {\r\n    _id: \"5b21ca3eeb7f6fbccd47181f\",\r\n    title: \"The Sixth Sense\",\r\n    genre: { _id: \"5b21ca3eeb7f6fbccd471820\", name: \"Thriller\" },\r\n    numberInStock: 4,\r\n    dailyRentalRate: 3.5\r\n  },\r\n  {\r\n    _id: \"5b21ca3eeb7f6fbccd471821\",\r\n    title: \"The Avengers\",\r\n    genre: { _id: \"5b21ca3eeb7f6fbccd471818\", name: \"Action\" },\r\n    numberInStock: 7,\r\n    dailyRentalRate: 3.5\r\n  }\r\n];\r\n\r\nexport function getMovies() {\r\n  return movies;\r\n}\r\n\r\nexport function getMovie(id) {\r\n  console.log(movies.filter(m => m._id ));\r\n  return movies.find(m => m._id === id);\r\n}\r\n\r\nexport function saveMovie(movie) {\r\n  let movieInDb = movies.find(m => m._id === movie._id) || {};\r\n  movieInDb.title = movie.title;\r\n  movieInDb.genre = genresAPI.genres.find(g => g._id === movie.genreId);\r\n  movieInDb.numberInStock = movie.numberInStock;\r\n  movieInDb.dailyRentalRate = movie.dailyRentalRate;\r\n\r\n  if (!movieInDb._id) {\r\n    movieInDb._id = (Date.now()).toString();\r\n    movies.push(movieInDb);\r\n  }\r\n\r\n  return movieInDb;\r\n}\r\n\r\nexport function deleteMovie(id) {\r\n  let movieInDb = movies.find(m => m._id === id);\r\n  movies.splice(movies.indexOf(movieInDb), 1);\r\n  return movieInDb;\r\n}\r\n","import React from \"react\";\r\n\r\nconst Like = (props) => {\r\n  let classes = \"fa fa-heart\";\r\n  if (!props.liked) classes += \"-o\";\r\n  return (\r\n    <i\r\n      onClick={props.onClick}\r\n      className={classes}\r\n      style={{ cursor: \"pointer\" }}\r\n      aria-hidden=\"true\"\r\n    ></i>\r\n  );\r\n};\r\n\r\nexport default Like;\r\n","import React, { Component } from \"react\";\r\n\r\nclass TableHeader extends Component {\r\n  raiseSort = (path) => {\r\n    const sortColumn = { ...this.props.sortColumn };\r\n    if (sortColumn.path === path)\r\n      sortColumn.order = sortColumn.order === \"asc\" ? \"desc\" : \"asc\";\r\n    else {\r\n      sortColumn.path = path;\r\n      sortColumn.order = \"asc\";\r\n    }\r\n    this.props.onSort(sortColumn);\r\n  };\r\n\r\n  renderSortIcon = (column) => {\r\n    const { sortColumn } = this.props;\r\n\r\n    if (column.path !== sortColumn.path) return null;\r\n    if (sortColumn.order === \"asc\") return <i className=\"fa fa-sort-asc\"></i>;\r\n    return <i className=\"fa fa-sort-desc\"></i>;\r\n  };\r\n  render() {\r\n    return (\r\n      <thead>\r\n        <tr>\r\n          {this.props.columns.map((column) => (\r\n            <td\r\n              key={column.path || column.key}\r\n              onClick={() => this.raiseSort(column.path)}\r\n            >\r\n              {column.lable} {this.renderSortIcon(column)}\r\n            </td>\r\n          ))}\r\n        </tr>\r\n      </thead>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TableHeader;\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport _ from \"lodash\";\r\n\r\nclass TableBody extends Component {\r\n  renderCell = (item, column) => {\r\n    if (column.content) return column.content(item);\r\n    return _.get(item, column.path);\r\n  };\r\n\r\n  creatKey = (item, column) => {\r\n    return item._id + (column.path || column.key);\r\n  };\r\n\r\n  \r\n  render() {\r\n    const { data, columns } = this.props;\r\n    return (\r\n      <tbody>\r\n        {data.map((item) => (\r\n          <tr key={item._id}>\r\n            {columns.map((column) => {\r\n              if (column.path === \"title\") {\r\n                return (\r\n                  <td key={this.creatKey(item, column)}>\r\n                    <Link to={() => \"/movieForm/\" + item._id  }>{this.renderCell(item, column)}</Link>\r\n                  </td>\r\n                );\r\n              } else {\r\n                return (\r\n                  <td key={this.creatKey(item, column)}>\r\n                    {this.renderCell(item, column)}\r\n                  </td>\r\n                );\r\n              }\r\n            })}\r\n          </tr>\r\n        ))}\r\n      </tbody>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TableBody;\r\n","import React from 'react';\r\nimport TableHeader from './common/tableHeader';\r\nimport TableBody from './common/tableBody';\r\n\r\nconst Table = ({ data, columns, onSort, sortColumn }) => {\r\n  \r\n    return ( \r\n        <table className=\"table\">\r\n        <TableHeader\r\n          columns={columns}\r\n          onSort={onSort}\r\n          sortColumn={sortColumn}\r\n        />\r\n        <TableBody\r\n          columns={columns}\r\n          data={data}\r\n        />\r\n      </table>\r\n     );\r\n}\r\n \r\nexport default Table;","import React, { Component } from \"react\";\r\nimport Like from \"./common/Like\";\r\nimport Table from \"./table\";\r\n\r\nclass MoviesTable extends Component {\r\n  columns = [\r\n    { path: \"title\", lable: \"Title\" },\r\n    { path: \"genre.name\", lable: \"Genre\" },\r\n    { path: \"numberInStock\", lable: \"Stock\" },\r\n    { path: \"dailyRentalRate\", lable: \"Rate\" },\r\n    {\r\n      key: \"like\",\r\n      content: movie => <Like liked={movie.liked} onClick={() => this.props.onLiked(movie)} />,\r\n    },\r\n    {\r\n      key: \"delete\",\r\n      content: movie => (\r\n        <button\r\n          onClick={() => this.props.onDelete(movie)}\r\n          className=\"btn btn-danger btn-sm\"\r\n        >\r\n          Delete\r\n        </button>\r\n      ),\r\n    },\r\n  ];\r\n  render() {\r\n    const { Movies, onSort, sortColumn } = this.props; \r\n\r\n    return (\r\n      <Table columns={this.columns} onSort={onSort} data={Movies} sortColumn={sortColumn} />\r\n    );\r\n  }\r\n}\r\n\r\nexport default MoviesTable;\r\n","import React from \"react\";\r\nimport _ from \"lodash\";\r\nimport propTypes from \"prop-types\";\r\n\r\nconst Pagination = ({ pageSize, itemCount, currentPage, onChange }) => {\r\n  const pagesCount = Math.ceil(itemCount / pageSize);\r\n  const pages = _.range(1, pagesCount + 1);\r\n  if (pagesCount === 1) return null;\r\n  // console.log(currentPage);\r\n  return (\r\n    <nav aria-label=\"Page navigation example\">\r\n      <ul className=\"pagination justify-content-center\">\r\n        {pages.map((page) => (\r\n          <li\r\n            key={page}\r\n            className={page === currentPage ? \"page-item active\" : \"page-item\"}\r\n          >\r\n            <span className=\"page-link\" onClick={() => onChange(page)}>\r\n              {page}\r\n            </span>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </nav>\r\n  );\r\n};\r\n\r\nPagination.propTypes = {\r\n  pageSize: propTypes.number.isRequired,\r\n  itemCount: propTypes.number.isRequired,\r\n  currentPage: propTypes.number.isRequired,\r\n  onChange: propTypes.func.isRequired,\r\n};\r\n\r\nexport default Pagination;\r\n","import React from \"react\";\r\n\r\nconst ListGroup = ({ items, onItemSelect, selectedGenre }) => {\r\n  return (\r\n    <ul className=\"list-group\">\r\n      {items.map((item) => (\r\n        <li\r\n          key={item._id}\r\n          className={\r\n            item === selectedGenre\r\n              ? \"list-group-item active\"\r\n              : \"list-group-item\"\r\n          }\r\n          onClick={() => onItemSelect(item)}\r\n        >\r\n          {item.name}\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default ListGroup;\r\n","import _ from \"lodash\";\r\n\r\nexport function paginate(items, pageNumber, pageSize) {\r\n    const startIndex = ( pageNumber - 1 ) * pageSize;\r\n    return _(items).slice(startIndex).take(pageSize).value();\r\n}","import React from \"react\";\r\n\r\nconst Input = ({ name, label, error, ...rest }) => {\r\n  return (\r\n    <div className=\"form-group\">\r\n      <label htmlFor={name}>{label}</label>\r\n      <input\r\n        name={name}\r\n        className=\"form-control\"\r\n        id={name}\r\n        { ...rest }\r\n      ></input>\r\n      { error && <div className=\"alert alert-danger\">{error}</div>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Input;\r\n","import React, { Component } from \"react\";\r\nimport Input from \"./input\";\r\n\r\nconst SelectBox = ({ value, onChange }) => {\r\n  return (\r\n    <Input\r\n      name=\"query\"\r\n      type=\"text\"\r\n      value={value}\r\n      className=\"form-control my-3\"\r\n      placeholder=\"search...\"\r\n      onChange={(e) => onChange(e.currentTarget.value)}\r\n    />\r\n  );\r\n};\r\n\r\nexport default SelectBox;\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { getMovies } from \"../services/fakeMovieService\";\r\nimport { getGenres } from \"../services/fakeGenreService\";\r\nimport MoviesTable from \"./moviesTable\";\r\nimport Pagination from \"./common/Pagination\";\r\nimport ListGroup from \"./common/listGroup\";\r\nimport { paginate } from \"../utils/paginate\";\r\nimport _ from \"lodash\";\r\nimport Input from \"./common/input\";\r\nimport SelectBox from \"./common/searchBox\";\r\n\r\nclass Movies extends Component {\r\n  state = {\r\n    Movies: [],\r\n    genres: [],\r\n    searchQuery: \"\",\r\n    selectedGenre: null,\r\n    currentPage: 1,\r\n    pageSize: 4,\r\n    sortColumn: { path: \"title\", order: \"asc\" },\r\n  };\r\n\r\n  componentDidMount() {\r\n    const genres = [{ _id: \"\", name: \"All genres\" }, ...getGenres()];\r\n\r\n    this.setState({ Movies: getMovies(), genres });\r\n  }\r\n\r\n  handleGenreSelect = (genre) => {\r\n    this.setState({ selectedGenre: genre, searchQuery: \"\", currentPage: 1 });\r\n  };\r\n  handleSearch = (query) => {\r\n    this.setState({ searchQuery: query, selectedGenre: null, currentPage: 1 });\r\n  };\r\n\r\n  handleDelete = (movie) => {\r\n    const Movies = this.state.Movies.filter((m) => m._id !== movie._id);\r\n    this.setState({ Movies });\r\n  };\r\n\r\n  handleLike = (movie) => {\r\n    movie.liked = !movie.liked;\r\n    this.setState(this.state.Movies);\r\n  };\r\n\r\n  handlePage = (page) => {\r\n    this.setState({ currentPage: page });\r\n  };\r\n\r\n  handleSort = (sortColumn) => {\r\n    this.setState({ sortColumn });\r\n  };\r\n\r\n  handleAddMovie = () => {\r\n    return null;\r\n  };\r\n\r\n  getPagesData = () => {\r\n    const {\r\n      pageSize,\r\n      currentPage,\r\n      selectedGenre,\r\n      searchQuery,\r\n      sortColumn,\r\n      Movies: allMovies,\r\n    } = this.state;\r\n\r\n    let filtered = allMovies;\r\n    if (searchQuery)\r\n      filtered = allMovies.filter((m) =>\r\n      // console.log( m.title.toLowerCase().includes(searchQuery.toLowerCase()))\r\n      m.title.toLowerCase().includes(searchQuery.toLowerCase())\r\n        // m.title.toLowerCase().startswith(searchQuery.toLowerCase())\r\n      );\r\n    else if (selectedGenre && selectedGenre._id)\r\n      filtered = allMovies.filter((m) => m.genre._id === selectedGenre._id);\r\n\r\n    const sorted = _.orderBy(filtered, [sortColumn.path], [sortColumn.order]);\r\n\r\n    const Movies = paginate(sorted, currentPage, pageSize);\r\n\r\n    return { totalCount: filtered.length, data: Movies };\r\n  };\r\n\r\n  // handleLike = (movie) => {\r\n  //     const Movies = [...this.state.Movies];\r\n  //     const index = Movies.indexOf(movie);\r\n  //     Movies[index] = {...Movies[index]};\r\n  //     Movies[index].liked = !Movies[index].liked;\r\n  //     this.setState({ Movies })\r\n  // }\r\n  render() {\r\n    const { length: count } = this.state.Movies;\r\n    const {\r\n      pageSize,\r\n      currentPage,\r\n      selectedGenre,\r\n      sortColumn,\r\n      genres,\r\n      searchQuery,\r\n    } = this.state;\r\n\r\n    if (count === 0) <p>There are no movie in database</p>;\r\n\r\n    const { totalCount, data: Movies } = this.getPagesData();\r\n\r\n    return (\r\n      // <React.Fragment>\r\n      <div className=\"row\">\r\n        <div className=\"col-3\">\r\n          <ListGroup\r\n            items={genres}\r\n            selectedGenre={selectedGenre}\r\n            onItemSelect={this.handleGenreSelect}\r\n          />\r\n        </div>\r\n        <div className=\"col\">\r\n          <Link\r\n            className=\"btn btn-danger py-1 px-2 m-2\"\r\n            onClick={this.handleAddMovie()}\r\n            to=\"/movieForm/new\"\r\n          >\r\n            New Movie\r\n          </Link>\r\n          <p>Showing {totalCount} movies in database</p>\r\n          <SelectBox value={searchQuery} onChange={this.handleSearch} />\r\n          <MoviesTable\r\n            Movies={Movies}\r\n            onLiked={this.handleLike}\r\n            onSort={this.handleSort}\r\n            sortColumn={sortColumn}\r\n            onDelete={this.handleDelete}\r\n          />\r\n          <Pagination\r\n            itemCount={totalCount}\r\n            pageSize={pageSize}\r\n            currentPage={currentPage}\r\n            onChange={this.handlePage}\r\n          />\r\n        </div>\r\n      </div>\r\n      // </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Movies;\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst NavBar = () => {\r\n  // const pages = [\r\n  //   {path: '/', name: 'Movies' },\r\n  //   {path: '/customers', name: 'Customers' },\r\n  //   {path: '/rentals', name: 'Rentals' }\r\n  // ]\r\n  return (\r\n    <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n      <span className=\"navbar-brand\">Vidly</span>\r\n      <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n        <span className=\"navbar-toggler-icon\"></span>\r\n      </button>\r\n      <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n        <div className=\"navbar-nav mr-auto\">\r\n        <NavLink className='nav-item nav-link' to=\"/movies\" >Movies</NavLink>\r\n        <NavLink className='nav-item nav-link' to=\"/customers\">Customers</NavLink>\r\n        <NavLink className='nav-item nav-link' to=\"/rentals\">Rentals</NavLink>\r\n        <NavLink className='nav-item nav-link' to=\"/login\">login</NavLink>\r\n        <NavLink className='nav-item nav-link' to=\"/register\">Register</NavLink>\r\n          {/* {pages.map(page => <li className='nav-item'>\r\n            <Link className=\"nav-link\" to={page.path}>\r\n              {page.name}\r\n            </Link>\r\n          </li>)} */}\r\n        </div>\r\n      </div>\r\n    </nav>\r\n\r\n  );\r\n};\r\n\r\nexport default NavBar;\r\n","import React from 'react';\r\n\r\nconst Rentals = () => {\r\n    return ( \r\n        <h1>Rintals</h1>\r\n     );\r\n}\r\n \r\nexport default Rentals;","import React from \"react\";\r\n\r\nconst NotFound = () => {\r\n  return <h1>Not Found</h1>;\r\n};\r\n\r\nexport default NotFound;\r\n","import React from \"react\";\r\n\r\nconst Select = ({ name, label, error, options, ...rest }) => {\r\n  return (\r\n    <div className=\"form-group\">\r\n      <label htmlFor={name}>{label}</label>\r\n      <select name={name} className=\"form-control\" id={name} {...rest}>\r\n        {options.map(item => <option key={item._id} value={item._id}>{item.name}</option> )}\r\n      </select>\r\n      {error && <div className=\"alert alert-danger\">{error}</div>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Select;\r\n","import React, { Component } from \"react\";\r\nimport Input from \"./input\";\r\nimport joi from \"joi-browser\";\r\nimport Select from './select';\r\n\r\nclass Form extends Component {\r\n  state = {\r\n    data: {},\r\n    errors: {},\r\n  };\r\n\r\n  validate = () => {\r\n    const { error } = joi.validate(this.state.data, this.schema, {\r\n      abortEarly: false,\r\n    });\r\n\r\n    if (!error) return null;\r\n\r\n    const errors = {};\r\n    for (let item of error.details) errors[item.path[0]] = item.message;\r\n\r\n    return errors;\r\n  }; \r\n\r\n  validateProperty = ({ name, value }) => {\r\n    const obj = { [name]: value };\r\n    const schema = { [name]: this.schema[name] };\r\n    const { error } = joi.validate(obj, schema); // no { abortEarly: false } becouse i need only one schema which i focused\r\n    return error ? error.details[0].message : null;\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const errors = this.validate();\r\n    this.setState({ errors: errors || {} }); // if errors true(have any errors) or return embty object\r\n    if (errors) return;\r\n\r\n    this.doSubmit();\r\n  };\r\n\r\n  handleChange = ({ currentTarget: input }) => {\r\n    const errors = { ...this.state.errors };\r\n    const errorMassege = this.validateProperty(input);\r\n    if (errorMassege) errors[input.name] = errorMassege;\r\n    else delete errors[input.name]; //to delete value from errors object\r\n\r\n    const data = this.state.data;\r\n    data[input.name] = input.value; // e.currentTarget == e.target at jquery\r\n    this.setState({ data, errors });\r\n  };\r\n\r\n  renderButton(label) {\r\n    return (\r\n      <button disabled={this.validate()} className=\"btn btn-primary\">\r\n        {label}\r\n      </button>\r\n    );\r\n  }\r\n\r\n  renderInput(name, label, type = \"text\") {\r\n    const { data, errors } = this.state;\r\n    return (\r\n      <Input\r\n        name={name}\r\n        label={label}\r\n        type={type}\r\n        value={data[name]}\r\n        onChange={this.handleChange}\r\n        error={errors[name]}\r\n      />\r\n    );\r\n  }\r\n\r\n  renderSelect(name, label, options) {\r\n    const { data, errors } = this.state;\r\n    return (\r\n      <Select\r\n        name={name}\r\n        label={label}\r\n        value={data[name]}\r\n        options={options}\r\n        onChange={this.handleChange}\r\n        error={errors[name]}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default Form;\r\n","import React from \"react\";\r\nimport joi from \"joi-browser\";\r\nimport Form from \"./common/form\";\r\nimport { getGenres } from \"./../services/fakeGenreService\";\r\nimport { getMovie, saveMovie } from './../services/fakeMovieService';\r\n\r\nclass MovieForm extends Form {\r\n  state = {\r\n    data: {\r\n      title: \"\",\r\n      genreId: \"\",\r\n      numberInStock: \"\",\r\n      dailyRentalRate: \"\",\r\n    },\r\n    genres: [],\r\n    errors: {},\r\n  };\r\n\r\n  schema = {\r\n    _id: joi.string(),\r\n    title: joi.string().required().label(\"Title\"),\r\n    genreId: joi.string().required().label(\"Genre\"),\r\n    numberInStock: joi.number().required().min(0).max(100).label(\"No in Stock\"),\r\n    dailyRentalRate: joi.number().required().min(0).max(10).label(\"rate\"),\r\n  };\r\n\r\n  componentDidMount() {\r\n    const genres = [{ _id: \"\", name: \"\" }, ...getGenres()];\r\n    this.setState({ genres });\r\n\r\n    const movieId = this.props.match.params.id;\r\n    if (movieId === \"new\") return; //return imediatly\r\n\r\n    const movie = getMovie(movieId);\r\n    if (!movie) return this.props.history.replace(\"/not-Found\");\r\n\r\n    this.setState({ data: this.mapToViewModel(movie) })\r\n  }\r\n\r\n  mapToViewModel(movie) {\r\n    return {\r\n      _id: movie._id,\r\n      title: movie.title,\r\n      genreId: movie.genre._id,\r\n      numberInStock: movie.numberInStock,\r\n      dailyRentalRate: movie.dailyRentalRate,\r\n\r\n    }\r\n  }\r\n\r\n  doSubmit = () => {\r\n    saveMovie(this.state.data);\r\n    this.props.history.push(\"/movies\"); // or replace\r\n    // call the server\r\n    console.log(\"Submitted\");\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h1>Movie Form</h1>\r\n        <form onSubmit={this.handleSubmit}>\r\n          {this.renderInput(\"title\", \"Title\")}\r\n          {this.renderSelect(\"genreId\", \"Genre\", this.state.genres)}\r\n          {this.renderInput(\"numberInStock\", \"Number in Stock\", \"number\")}\r\n          {this.renderInput(\"dailyRentalRate\", \"Rate\", \"number\")}\r\n          {this.renderButton(\"Register\")}\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n// const MovieForm = ({ match, history }) => {\r\n//   return (\r\n//     <div>\r\n//       <h1>Movie Form {match.params.title} </h1>\r\n//       <form>\r\n//         <div className=\"form-group\">\r\n//           <label htmlFor=\"exampleFormControlInput1\">Title</label>\r\n//           <input\r\n//             type=\"text\"\r\n//             className=\"form-control\"\r\n//             id=\"exampleFormControlInput1\"\r\n//             placeholder=\"Title\"\r\n//             value={match.params.title}\r\n//           ></input>\r\n//         </div>\r\n//         <div className=\"form-group\">\r\n//           <label className=\"mr-sm-2\" htmlFor=\"inlineFormCustomSelect\">\r\n//             Genre\r\n//           </label>\r\n//           <select className=\"custom-select mr-sm-2\" id=\"inlineFormCustomSelect\">\r\n//             <option selected>{match.params.genreName}</option>\r\n//             <option value=\"Action\">Action</option>\r\n//             <option value=\"Comedy\">Comedy</option>\r\n//             <option value=\"Thriller\">Thriller</option>\r\n//           </select>\r\n//         </div>\r\n//         <div className=\"form-group\">\r\n//           <label htmlFor=\"exampleFormControlInput2\">No</label>\r\n//           <input\r\n//             type=\"number\"\r\n//             className=\"form-control\"\r\n//             id=\"exampleFormControlInput2\"\r\n//             placeholder=\"Number\"\r\n//             value={match.params.title}\r\n//           ></input>\r\n//         </div>\r\n\r\n//       </form>\r\n//       <Link className=\"btn btn-primary mt-3 py-1 px-2\" to=\"/movies\">\r\n//         save\r\n//       </Link>\r\n//       {/* <button className=\"btn btn-primary mt-3 py-1 px-2\" onClick={() => history.push('/movies')}>save2</button> */}\r\n//     </div>\r\n//   );\r\n// };\r\n\r\nexport default MovieForm;\r\n","import React from \"react\";\r\nimport joi from \"joi-browser\";\r\nimport Form from \"./common/form\";\r\n\r\nclass loginForm extends Form {\r\n  state = {\r\n    data: { username: \"\", password: \"\" },\r\n    errors: {},\r\n  };\r\n\r\n  schema = {\r\n    username: joi.string().min(2).max(5).required().label(\"Username\"),\r\n    password: joi.string().required(),\r\n  };\r\n\r\n  doSubmit = () => {\r\n    // call the server\r\n    console.log(\"Submitted\");\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h1>login</h1>\r\n        <form onSubmit={this.handleSubmit}>\r\n          {this.renderInput(\"username\", \"Username\")}\r\n          {this.renderInput(\"password\", \"Password\", \"password\")}\r\n          {this.renderButton(\"login\")}\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default loginForm;\r\n","import React from \"react\";\r\nimport joi from \"joi-browser\";\r\nimport Form from \"./common/form\"; \r\n\r\nclass Register extends Form {\r\n    state = {\r\n        data: { username: \"\", password: \"\", name: \"\" },\r\n        errors: {},\r\n    };\r\n\r\n    schema = {\r\n        username: joi.string().email().required().label(\"Uesrname\"),\r\n        password: joi.string().min(5).required().label(\"Password\"),\r\n        name: joi.string().required().label(\"Name\"),\r\n    };\r\n\r\n    doSubmit = () => {\r\n        // call the server\r\n        console.log(\"Submitted\");\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h1>Register</h1>\r\n                <form onSubmit={this.handleSubmit}>\r\n                    {this.renderInput(\"username\", \"Username\", \"email\")}\r\n                    {this.renderInput(\"password\", \"Password\", \"password\")}\r\n                    {this.renderInput(\"name\", \"Name\")}\r\n                    {this.renderButton(\"Register\")}\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Register;\r\n","import './App.css';\r\nimport React from 'react';\r\nimport { Redirect, Route, Switch } from 'react-router-dom';\r\nimport Customers from './component/customers';\r\nimport Movies from './component/movies';\r\nimport NavBar from './component/navBar';\r\nimport Rentals from './component/rentals';\r\nimport NotFound from './component/notFound';\r\nimport MovieForm from './component/movieForm';\r\nimport loginForm from './component/login';\r\nimport Register from './component/register';\r\n\r\nconst App = () => {\r\n  return (\r\n    <main>\r\n      <NavBar  />\r\n      <div className=\"container\">\r\n        <Switch>\r\n          <Route path=\"/login\" component={loginForm} />\r\n          <Route path=\"/register\" component={Register} />\r\n          <Route path=\"/customers\" component={Customers} />\r\n          <Route path=\"/rentals\" component={Rentals} />\r\n          <Route path=\"/movieForm/:id?\" component={MovieForm} />\r\n          <Route path=\"/not-Found\" component={NotFound} />\r\n          <Route path=\"/movies\" component={Movies} />\r\n          <Redirect from=\"/\" exact to=\"/movies\" />\r\n          <Redirect to=\"/not-Found\" />\r\n        </Switch>\r\n\r\n      </div>\r\n      \r\n    </main>\r\n  );\r\n}\r\n \r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport 'font-awesome/css/font-awesome.css';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}